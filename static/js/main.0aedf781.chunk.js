(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=171},209:function(e,t,a){e.exports=a.p+"static/media/gifsmos-v-logo.cdb3d5e6.svg"},210:function(e,t,a){e.exports=a.p+"static/media/camera.2edf57b6.svg"},211:function(e,t,a){e.exports=a.p+"static/media/preview.26150562.svg"},212:function(e,t,a){e.exports=a.p+"static/media/reset.ebf3b7c6.svg"},213:function(e,t,a){e.exports=a.p+"static/media/burst.6d8f2435.svg"},214:function(e,t,a){e.exports=a.p+"static/media/saved.50e57a4a.svg"},215:function(e,t,a){e.exports=a.p+"static/media/settings.32c23130.svg"},216:function(e,t,a){e.exports=a.p+"static/media/info.3941b4c9.svg"},218:function(e,t,a){e.exports=a.p+"static/media/left.f35a3e98.svg"},219:function(e,t,a){e.exports=a.p+"static/media/right.1e9a60e1.svg"},221:function(e,t,a){e.exports=a(637)},230:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){},236:function(e,t,a){},454:function(e,t){function a(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=454},455:function(e,t,a){},457:function(e,t,a){},459:function(e,t,a){},623:function(e,t,a){},625:function(e,t,a){},627:function(e,t,a){},629:function(e,t,a){},631:function(e,t,a){},633:function(e,t,a){},635:function(e,t,a){},637:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(206),s=a.n(i),l=a(34),o=a(18),c=a(208),u=a(22),d=a(40),m=a(3),p={frames:{},frameIDs:[],redoFrames:[],gifProgress:0,gifData:"",gifText:"",textAlign:"center",textBaseline:"bottom",fontColor:"#000000",gifFileName:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_FRAME":var r=n.id,i=n.imageData,s=e.frames,l=e.frameIDs;return Object(m.a)({},e,{frames:Object(m.a)({},s,Object(d.a)({},r,i)),frameIDs:[].concat(Object(u.a)(l),[r]),gifProgress:0,gifData:"",redoFrames:[]});case"DELETE_FRAME_IDX":var o=n.idx,c=e.frames,h=e.frameIDs,g={};h.pop();var f,v=Object(u.a)(h);return Object.entries(c).forEach(function(e){+e[0]<o&&(g[e[0]]=c[e[0]]),+e[0]===o&&(f={id:e[0],frameData:c[e[0]]}),+e[0]>o&&(g[+e[0]-1]=c[e[0]])}),Object(m.a)({},e,{frames:g,framesIDs:v,gifProgress:0,gifData:"",redoFrames:[].concat(Object(u.a)(e.redoFrames),[f])});case"REDO_FRAME":var b=n.id,E=n.frameData,x=e.frames,O=e.frameIDs,y=e.redoFrames,I={},w=[].concat(Object(u.a)(O),[O.length+1]),S=Object(u.a)(y);return S.pop(),Object.entries(x).forEach(function(e){+e[0]<b&&(I[e[0]]=x[e[0]]),+e[0]>=b&&(I[+e[0]+1]=x[e[0]])}),I[b]=E,Object(m.a)({},e,{frames:I,frameIDs:w,redoFrames:S});case"UPDATE_GIF_PROGRESS":return Object(m.a)({},e,{gifProgress:n.progress});case"UPDATE_GIF_FILENAME":return Object(m.a)({},e,{gifFileName:n.gifFileName});case"ADD_GIF":return Object(m.a)({},e,{gifData:n.imageData});case"UNDO_BURST":return Object(m.a)({},e,{frames:n.frames,frameIDs:n.frameIDs});case"UPDATE_IMAGE_SETTING":case"UPDATE_BOUNDS_SETTING":case"UPDATE_STRATEGY":return Object(m.a)({},e,{gifProgress:0,gifData:""});case"UPDATE_TEXT":return Object(m.a)({},e,{gifText:n.text});case"UPDATE_TEXT_COLOR":return Object(m.a)({},e,{fontColor:n.fontColor});case"UPDATE_TEXT_POSITION":return Object(m.a)({},e,{textAlign:n.textAlign,textBaseline:n.textBaseline});case"RESET":return p;default:return e}},g={image:{width:800,height:800,interval:30,oversample:!1},bounds:{left:-10,right:10,bottom:-10,top:10},strategy:"contain"},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"UPDATE_IMAGE_SETTING":return Object(m.a)({},e,{image:Object(m.a)({},e.image,n)});case"UPDATE_BOUNDS_SETTING":return Object(m.a)({},e,{bounds:Object(m.a)({},e.bounds,n)});case"UPDATE_STRATEGY":return Object(m.a)({},e,n);default:return e}},v={PREVIEW:"PREVIEW",BURST:"BURST",SETTINGS:"SETTINGS",NONE:"NONE",FILES:"FILES"},b={expandedPane:v.NONE,previewIdx:0,playing:!1,error:"",burstSliders:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TOGGLE_PANE":var r=n.pane,i=e.expandedPane;return Object(m.a)({},e,{expandedPane:r===i?v.NONE:r,playing:!1});case"UPDATE_PREVIEW_IDX":return Object(m.a)({},e,{previewIdx:n.idx});case"PLAY_PREVIEW":return Object(m.a)({},e,{playing:!0});case"PAUSE_PREVIEW":return Object(m.a)({},e,{playing:!1});case"SET_ERROR":var s=e.expandedPane,l=n.message;return l.indexOf("setting")>-1&&(s=v.SETTINGS),Object(m.a)({},e,{error:l,expandedPane:s});case"CLEAR_ERROR":return Object(m.a)({},e,{error:""});case"RESET":return Object(m.a)({},e,{previewIdx:0,playing:!1,error:""});case"UPDATE_BURST_SLIDERS":return Object(m.a)({},e,{burstSliders:n});default:return e}},x=Object(l.c)({images:h,settings:f,ui:E}),O=a(11),y=a(12),I=a(14),w=a(13),S=a(15),j=a(1),P=(a(230),a(209)),k=a.n(P),F=function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("img",{className:"Header-logo",src:k.a,alt:"GIFsmos logo"}),r.a.createElement("div",{className:"Header-help"},"Paste a Desmos link into the expressions list to import a saved graph."))},N=a(7),C=a.n(N),T=(C.a.number.isRequired,C.a.number.isRequired,C.a.bool.isRequired,C.a.string.isRequired,C.a.func.isRequired,{width:800,height:800,oversample:!1}),D={icon:"icon",onClick:function(){}},G=a(8),U=a.n(G),A=a(210),B=a.n(A),_=a(211),R=a.n(_),M=a(212),L=a.n(M),V=a(213),H=a.n(V),q=a(214),W=a.n(q),X=a(215),Y=a.n(X),J=(a(232),{camera:B.a,preview:R.a,reset:L.a,burst:H.a,settings:Y.a,saved:W.a}),K={camera:"capture frame",preview:"preview panel",reset:"reset images",burst:"multi-capture panel",settings:"settings panel",saved:"saved-graphs panel"},z=function(e){var t=e.children,a=e.icon,n=e.onClick,i=e.expanded;return r.a.createElement("div",{className:"SidebarButton-tooltip"},r.a.createElement("span",{className:"SidebarButton-tooltiptext"},a[0].toUpperCase()+a.slice(1)),r.a.createElement("button",{className:U()("SidebarButton",{"SidebarButton-expanded":i}),onClick:n,"aria-label":K[a],"aria-expanded":i},r.a.createElement("img",{src:J[a],alt:"".concat(a," icon")}),t))};z.defaultProps=Object(m.a)({},D,{expanded:!1});var Q=z,Z=a(35),$=function(e){var t=e.showBadge,a=e.value,n=e.color,i=Object(Z.a)(e,["showBadge","value","color"]);return r.a.createElement(Q,i,t&&r.a.createElement("div",{className:U()("SidebarButton-badge","SidebarButton-badge-".concat(n))},a))};$.defaultProps=Object(m.a)({},D,{expanded:!1,color:"",showBadge:!1,value:0});var ee=$,te=(a(234),a(236),function(e){function t(){return Object(O.a)(this,t),Object(I.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.showHelpModal?"show":"hide";return r.a.createElement("div",{className:"HelpModal ".concat(e)},r.a.createElement("div",{className:"HelpModal-content"},r.a.createElement("span",{onClick:this.props.toggleHelpModal,className:"HelpModal-close-btn"},"\xd7"),r.a.createElement("div",{className:"HelpModal-header"},r.a.createElement("h1",null,"Using GIFsmos V")),r.a.createElement("div",{className:"HelpModal-text"},r.a.createElement("h3",null,"Creating, importing and saving graphs"),r.a.createElement("p",null,"Start by making something dynamic and awesome in the Desmos graphing calculator! You can do that right inside of GIFsmos V, or you can import one of your saved graphs from desmos.com by pasting its URL into the expressions list in GIFsmos V, and it will be automatically imported for you."),r.a.createElement("p",null,'Conversely, if you build something great in GIFsmos V that you want to save to your Desmos account, click "edit graph on Desmos" (at the bottom of the expressions list or the graph paper), and it will open a copy of your graph on desmos.com.'),r.a.createElement("p",null,"To learn more about using the graphing calculator to build cool stuff, check out the Learn Desmos resources."),r.a.createElement("h3",null,"Capturing snapshots"),r.a.createElement("p",null,"GIFsmos V generates your animated SVG from a list of snapshots taken from the graph paper. You can add a single frame to the list by clicking the camera button."),r.a.createElement("p",null,"GIFsmos V also has a multi-capture mode that lets you generate multiple snapshots from a slider in the graphing calculator. Open the multi-capture panel and enter the relevant information in the input fields:"),r.a.createElement("h4",null,"Option Description"),r.a.createElement("h5",null,"Slider Index")," The index of the expression that contains the slider values you want to capture.",r.a.createElement("h5",null,"Slider Min"),"The first slider value to capture.",r.a.createElement("h5",null,"Slider Max"),"The last slider value to capture.",r.a.createElement("h5",null,"Slider Step"),"How much to increment the slider in between captures.",r.a.createElement("p",null,'Finally, click the "Capture" button, and GIFsmos V will automatically capture one snapshot for each slider value defined by the min, max, and step.'),r.a.createElement("h3",null,"Previewing"),r.a.createElement("p",null,'Click the preview button to open the preview panel. You can preview your future SVG animation either by scrubbing through the snapshots with the slider, or by clicking the play/pause button on the preview image. The animation will run at (roughly) a speed determined by the "Interval" option in the settings panel, so it will give you a good idea what the final SVG animation will look like.'),r.a.createElement("h3",null,"Adjusting image settings"),r.a.createElement("p",null,"Click the settings button to open the settings panel. There you can set the desired image dimensions (applies to both the captured snapshots and the final SVG animation), as well as the interval between frames in the generated SVG."),r.a.createElement("h3",null,"Generating and downloading a SVG"),r.a.createElement("p",null,"Inside the preview panel, once you're happy with the results, click the \"Download SVG\" button to generate your final image and save it to your browser's default download location (named `gifsmos.svg`)."))))}}]),t}(n.Component)),ae=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={showHelpModal:!1},a.handleTogglePreview=a.handleTogglePreview.bind(Object(j.a)(Object(j.a)(a))),a.handleToggleBurst=a.handleToggleBurst.bind(Object(j.a)(Object(j.a)(a))),a.handleToggleSettings=a.handleToggleSettings.bind(Object(j.a)(Object(j.a)(a))),a.handleRequestFrame=a.handleRequestFrame.bind(Object(j.a)(Object(j.a)(a))),a.toggleHelpModal=a.toggleHelpModal.bind(Object(j.a)(Object(j.a)(a))),a.handleToggleFiles=a.handleToggleFiles.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handleTogglePreview",value:function(){(0,this.props.togglePane)(v.PREVIEW)}},{key:"handleToggleBurst",value:function(){(0,this.props.togglePane)(v.BURST)}},{key:"handleToggleSettings",value:function(){(0,this.props.togglePane)(v.SETTINGS)}},{key:"handleRequestFrame",value:function(){var e=this.props,t=e.requestFrame,a=e.width,n=e.height,r=e.oversample;t({width:a,height:n,mode:e.strategy,targetPixelRatio:r?2:1})}},{key:"toggleHelpModal",value:function(){this.setState({showHelpModal:!this.state.showHelpModal})}},{key:"handleToggleFiles",value:function(){(0,this.props.togglePane)(v.FILES)}},{key:"render",value:function(){var e=this.props,t=e.reset,a=e.expandedPane,n=e.numFrames;return r.a.createElement("div",{className:"Sidebar"},r.a.createElement(Q,{icon:"camera",onClick:this.handleRequestFrame}),r.a.createElement(Q,{icon:"burst",expanded:a===v.BURST,onClick:this.handleToggleBurst}),r.a.createElement(ee,{icon:"preview",expanded:a===v.PREVIEW,onClick:this.handleTogglePreview,color:"orange",showBadge:!!n,value:n>99?"99+":n}),r.a.createElement(Q,{icon:"saved",expanded:a===v.FILES,onClick:this.handleToggleFiles}),r.a.createElement(Q,{icon:"settings",expanded:a===v.SETTINGS,onClick:this.handleToggleSettings}),!!n&&r.a.createElement(Q,{icon:"reset",onClick:t}),r.a.createElement("div",{className:"Sidebar-help",onClick:this.toggleHelpModal},r.a.createElement("p",null,"Help")),r.a.createElement("div",null,r.a.createElement(te,{showHelpModal:this.state.showHelpModal,toggleHelpModal:this.toggleHelpModal})))}}]),t}(n.Component);ae.defaultProps=Object(m.a)({numFrames:0,expandedPane:"NONE",gifData:""},T,{requestFrame:function(){},togglePane:function(){},reset:function(){},getBurstSliders:function(){}});var ne,re=ae,ie=a(17),se=a.n(ie),le=a(25);var oe,ce,ue=function(e){return"Looks like expression ".concat(e," doesn't define a slider.")},de=function(e){var t,a={idx:"Slider Index",min:"Slider Min",max:"Slider Max",step:"Slider Step"},n=[];for(var r in e)e[r]&&n.push(r);switch(n.length){case 1:t=a[n[0]];break;case 2:t=n.indexOf("idx")>-1?a.idx:"input";break;default:t="input"}return t===a.idx?"Please choose a slider or define an expression.":"Your ".concat(t," isn't quite right.")},me=function(e){var t=[];for(var a in e)e[a]&&t.push(a);if(1===t.length){var n={width:"Image Width",height:"Image Height",interval:"Interval"}[t[0]];return"The ".concat(n," setting must be a positive integer.")}return"Image settings must be positive integers."},pe=a(41),he=function(e,t,a,n,r){var i=localStorage.getItem("gifsmos-saved-graphs");i=i?JSON.parse(i):{saved:{}};var s={name:t,graph:e,preview:a,frames:n,frameIDs:r},l=(new Date).toLocaleString();return i.saved[l]=s,localStorage.setItem("gifsmos-saved-graphs",JSON.stringify(i)),[l,t,a]},ge=function(){var e=JSON.parse(localStorage.getItem("gifsmos-saved-graphs"));return e?Object.entries(e.saved).map(function(e){var t=Object(pe.a)(e,2),a=t[0],n=t[1];return[a,n.name,n.preview]}):[]},fe=a(240).optimize,ve=function(e){return new Promise(function(t,a){e.format="svg",ne.asyncScreenshot(e,function(e){return t(e)})})},be=function(){var e=Object(le.a)(se.a.mark(function e(t){var a,n,r,i,s,l,o;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:return a=e.sent,n=new DOMParser,r=n.parseFromString(a,"image/svg+xml"),i=r.documentElement.getAttribute("width"),s=r.documentElement.getAttribute("height"),r.documentElement.setAttribute("width","100%"),r.documentElement.setAttribute("height","100%"),r.documentElement.setAttribute("viewBox","0 0 ".concat(i," ").concat(s)),(l=r.getElementsByTagName("rect")[0]).parentNode.removeChild(l),o=new XMLSerializer,a=o.serializeToString(r),e.abrupt("return",fe(a,{multipass:!0}).data);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ee=function(e,t){var a=function(e){return ne.getExpressions()[e-1]}(e);if(!a)return function(e){return"There is no expression at position ".concat(e,".")}(e);if("expression"!==a.type)return ue(e);var n=a.id,r=a.latex.match(/(.+)=/);if(!r)return ue(e);var i=r[1];ne.setExpression({id:n,latex:"".concat(i,"=").concat(t)})},xe=function(){var e=Object(le.a)(se.a.mark(function e(t,a,n){var r,i;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne.getState(),e.next=3,be({width:160,height:160,targetPixelRatio:.25});case 3:return i=e.sent,e.abrupt("return",he(r,t,i,a,n));case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Oe=function(e){var t=function(e){return JSON.parse(localStorage.getItem("gifsmos-saved-graphs")).saved[e]}(e),a=t.graph,n=t.frames,r=t.frameIDs;return ne.setState(a),{frames:n,frameIDs:r}},ye=function(){cancelAnimationFrame(oe)},Ie=a(104),we=a.n(Ie),Se=function(e){return!isNaN(e)&&(Math.round(e)===e&&e>0)},je=function(e){var t=e.idx,a=e.min,n=e.max,r=e.step,i={};for(var s in e)isNaN(e[s])&&(i[s]=!0);return t||(i.idx=!0),a>=n&&(i.min=!0,i.max=!0),r>n-a&&(i.step=!0),i},Pe=function(e){var t={};for(var a in e)Se(e[a])||(t[a]=!0);return t},ke=function(e){var t={};return e.length?e.length>255&&(t.name="Name cannot be longer than 255 characters"):t.name="Name required",t},Fe=0,Ne=function(e){return{type:"ADD_FRAME",payload:{id:++Fe,imageData:e}}},Ce=function(e,t){return{type:"ADD_FRAME",payload:{id:t,imageData:e}}},Te=function(e){return{type:"UPDATE_GIF_PROGRESS",payload:{progress:e}}},De=function(e){return{type:"ADD_GIF",payload:{imageData:e}}},Ge=function(e){return ye(),{type:"TOGGLE_PANE",payload:{pane:e}}},Ue=function(e){return{type:"UPDATE_PREVIEW_IDX",payload:{idx:e}}},Ae=function(){return ye(),localStorage.removeItem("selectValue"),{type:"RESET"}},Be=function(e){return function(t){clearTimeout(ce),t(function(e){return{type:"SET_ERROR",payload:{message:e}}}(e)),ce=setTimeout(function(){return t({type:"CLEAR_ERROR"})},3e3)}},_e=function(e,t){return function(a,n){var r=n().settings.image.interval,i=n().images.gifFileName,s=Pe({interval:r});if(Object.keys(s).length)a(Be(me(s)));else{var l=Object(m.a)({images:e},t,{progressCallback:function(e){return a(Te(e))}});1===e.length?(a(Te(1)),a(De(e[0])),we()(e[0],i||"gifsmos.svg","image/svg")):function(e,t){for(var a=e.images,n="",r="",i=0;i<a.length;i++){var s=a[i],l=s.indexOf("<svg"),o=s.indexOf(">",l);if(0===i){var c=s.substr(0,o);n+=c,-1===c.indexOf("xmlns")&&(n+=' xmlns="http://www.w3.org/2000/svg"'),n+=">",n+='<defs><style type="text/css">';for(var u=0;u<a.length;u++)u>0&&(n+=","),n+="#_".concat(u);n+="{visibility:hidden}</style></defs>"}var d=s.indexOf("</svg");0===i&&(r=s.substr(d)),s=(s=s.substr(o,d-o)).replaceAll(' id="',' id="_'.concat(i)).replaceAll(' href="#',' href="#_'.concat(i)).replaceAll(' xlink:href="#',' xlink:href="#_'.concat(i)).replaceAll('="url(#','="url(#_'.concat(i)),n+='<g id="_'.concat(i,'">').concat(s,"</g>"),e.progressCallback(i/a.length)}n+='<defs><style type="text/css">';for(var m=0;m<a.length;m++)m>0&&(n+=","),n+="#_".concat(m);n+="{animation:".concat(e.interval*a.length,"s ").concat("linear"," _k infinite}");for(var p=0;p<a.length;p++)n+="#_".concat(p,"{animation-delay:").concat(e.interval*p,"s}");n+="@keyframes _k{",n+="0%,".concat(100/a.length,"%{visibility:visible}"),n+="".concat((100+1e-4/e.interval)/a.length,"%,100%{visibility:hidden}}"),n+="</style></defs>",n+=r,e.progressCallback(1),t({image:n})}(l,function(e){e.error?a(Be("There was a problem creating your GIF. :(")):(a(De(e.image)),we()(e.image,i||"gifsmos.svg","image/svg"))})}}},Re=Object(o.b)(function(e,t){var a=e.images,n=e.settings,r=e.ui.expandedPane,i=a.frameIDs,s=n.image,l=s.width,o=s.height,c=s.oversample,u=n.strategy;return{numFrames:i.length,expandedPane:r,width:l,height:o,oversample:c,strategy:u}},{requestFrame:function(e){return function(){var t=Object(le.a)(se.a.mark(function t(a){var n,r,i,s;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.width,r=e.height,i=Pe({width:n,height:r}),!Object.keys(i).length){t.next=5;break}return a(Be(me(i))),t.abrupt("return");case 5:return t.next=7,be(e);case 7:s=t.sent,a(Ne(s));case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},togglePane:Ge,reset:Ae})(re),Me=(a(455),function(e){var t=e.imageSrc,a=e.playing,n=e.togglePlaying,i=e.gifText,s=e.fontColor,l=e.textPosition;return r.a.createElement("div",{className:U()("Frame",{"Frame-empty":!t})},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Frame-container"},r.a.createElement("div",{className:"Frame-image",dangerouslySetInnerHTML:{__html:t}}),r.a.createElement("p",{className:"Frame-container-text ".concat(l),style:{color:s}},i)),r.a.createElement("button",{className:"Frame-animation-button",onClick:n,"aria-label":a?"pause preview animation":"play preview animation"},a?"\u275a \u275a":"\u25b6")))});Me.defaultProps={imageSrc:"",playing:!1,togglePlaying:function(){}};var Le=Me,Ve=a(216),He=a.n(Ve),qe=(a(457),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={show:!1},a.toggleInfo=a.toggleInfo.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"toggleInfo",value:function(){this.setState({show:!this.state.show})}},{key:"render",value:function(){var e=this.state.show?"show":"hide";return r.a.createElement("div",{className:"InfoIcon-text-container"},r.a.createElement("img",{src:He.a,alt:"info icon",className:"InfoIcon-icon",onClick:this.toggleInfo,tabIndex:"0",role:"button","aria-pressed":this.state.show,onKeyDown:this.toggleInfo}),r.a.createElement("div",{className:"InfoIcon-text ".concat(e)},r.a.createElement("p",null,this.props.infoText),r.a.createElement("a",{href:"https://github.com/jpanneton/gifsmos-v",target:"blank"},"More Info")))}}]),t}(n.Component)),We=(a(459),a(217)),Xe=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).handleInputUpdate=a.handleInputUpdate.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handleInputUpdate",value:function(e){this.props.updateTextColor(e.hex)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(We.SketchPicker,{className:"ColorPicker-SketchPicker",onChange:this.handleInputUpdate,color:this.props.textColor}))}}]),t}(n.Component),Ye=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={showColorPicker:a.props.showColorPicker},a.handleSubmit=a.handleSubmit.bind(Object(j.a)(Object(j.a)(a))),a.handleInputUpdate=a.handleInputUpdate.bind(Object(j.a)(Object(j.a)(a))),a.renderColorPicker=a.renderColorPicker.bind(Object(j.a)(Object(j.a)(a))),a.closeColorPicker=a.closeColorPicker.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.showColorPicker!==e.showColorPicker&&this.setState({showColorPicker:this.props.showColorPicker})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleGenerateGIF()}},{key:"handleInputUpdate",value:function(e){switch(e.target.name){case"gifText":this.props.updateText(e.target.value);break;case"fontColor":this.props.updateTextColor(e.target.value);break;case"name":this.props.updateGIFFileName(e.target.value);break;case"placement":var t=e.target.value.split("-"),a=Object(pe.a)(t,2),n=a[0],r=a[1];this.props.updateTextPosition({textAlign:r,textBaseline:n}),localStorage.setItem("selectValue",e.target.value)}}},{key:"renderColorPicker",value:function(){this.setState({showColorPicker:!this.state.showColorPicker}),this.props.updateColorPicker(!this.state.showColorPicker)}},{key:"closeColorPicker",value:function(){this.setState({showColorPicker:!1})}},{key:"render",value:function(){var e=localStorage.getItem("selectValue")||"DEFAULT",t=r.a.createElement(Xe,{updateTextColor:this.props.updateTextColor,textColor:this.props.fontColor,closeColorPicker:this.closeColorPicker,showColorPicker:this.state.showColorPicker}),a={backgroundColor:this.props.fontColor};return r.a.createElement("form",{className:"GenerateGifForm-form",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"GenerateGifForm-input",name:"name","aria-label":"add a file name",placeholder:"Add a File Name",onChange:this.handleInputUpdate,value:this.props.gifFileName}),r.a.createElement("input",{className:"GenerateGifForm-input disabled-feature",name:"gifText","aria-label":"add GIF text",placeholder:"Add GIF Text",onChange:this.handleInputUpdate,value:this.props.gifText}),r.a.createElement("select",{type:"select",id:"GenerateGifForm-select",name:"placement",className:"GenerateGifForm-select disabled-feature","aria-label":"GIF text position",onChange:this.handleInputUpdate,defaultValue:e},r.a.createElement("option",{disabled:!0,value:"DEFAULT"},"Select GIF Text Position"),r.a.createElement("option",{value:"top-left"},"Top Left"),r.a.createElement("option",{value:"top-center"},"Top Center"),r.a.createElement("option",{value:"top-right"}," Top Right"),r.a.createElement("option",{value:"bottom-left"},"Bottom Left"),r.a.createElement("option",{value:"bottom-center"},"Bottom Center"),r.a.createElement("option",{value:"bottom-right"},"Bottom Right")),r.a.createElement("div",{style:a,onClick:this.renderColorPicker,onKeyDown:this.renderColorPicker,className:"ColorPicker disabled-feature","aria-label":"pick GIF text color",role:"button","aria-pressed":this.state.showColorPicker,tabIndex:"0"},r.a.createElement("p",null,"Pick GIF Text Color")),this.state.showColorPicker?t:null,r.a.createElement("button",{className:"GenerateGifForm-button","aria-label":"generate gif",type:"submit"},"Download SVG"))}}]),t}(n.Component),Je=Object(o.b)(function(e,t){var a=e.images,n=a.gifText,r=a.fontColor,i=a.gifFileName,s=a.textAlign,l=a.textBaseline;return{handleGenerateGIF:t.handleGenerateGIF,gifText:n,fontColor:r,gifFileName:i,textAlign:s,textBaseline:l}},{updateText:function(e){return{type:"UPDATE_TEXT",payload:{text:e}}},updateTextColor:function(e){return{type:"UPDATE_TEXT_COLOR",payload:{fontColor:e}}},updateGIFFileName:function(e){return{type:"UPDATE_GIF_FILENAME",payload:{gifFileName:e}}},generateGIF:_e,updateTextPosition:function(e){return{type:"UPDATE_TEXT_POSITION",payload:{textAlign:e.textAlign,textBaseline:e.textBaseline}}}})(Ye),Ke=(a(623),a(218)),ze=a.n(Ke),Qe=a(219),Ze=a.n(Qe),$e=function(e,t){return"".concat(t,"-").concat(e)},et=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={showColorPicker:!1},a.handleGenerateGIF=a.handleGenerateGIF.bind(Object(j.a)(Object(j.a)(a))),a.handlePreviewUpdate=a.handlePreviewUpdate.bind(Object(j.a)(Object(j.a)(a))),a.handleTogglePlaying=a.handleTogglePlaying.bind(Object(j.a)(Object(j.a)(a))),a.handleDeleteFrame=a.handleDeleteFrame.bind(Object(j.a)(Object(j.a)(a))),a.handleChangePreviewIdx=a.handleChangePreviewIdx.bind(Object(j.a)(Object(j.a)(a))),a.handleRedoFrame=a.handleRedoFrame.bind(Object(j.a)(Object(j.a)(a))),a.handleClickContainer=a.handleClickContainer.bind(Object(j.a)(Object(j.a)(a))),a.updateColorPicker=a.updateColorPicker.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handlePreviewUpdate",value:function(e){var t=this.props,a=t.updatePreviewIdx,n=t.stopAnimation,r=parseInt(e.target.value,10);n(),a(r)}},{key:"handleGenerateGIF",value:function(){var e=this.props,t=e.frames,a=e.frameIDs,n=e.width,r=e.height,i=e.oversample,s=e.interval,l=e.generateGIF,o=e.gifText,c=e.fontColor,u=e.textAlign,d=e.textBaseline,m=i?2:1;l(a.map(function(e){return t[e]}),{gifWidth:n*m,gifHeight:r*m,interval:s/1e3,text:o,fontColor:c,textAlign:u,textBaseline:d})}},{key:"updateColorPicker",value:function(e){this.setState({showColorPicker:e})}},{key:"handleClickContainer",value:function(e){"Preview Preview-expanded"===e.target.className&&this.setState({showColorPicker:!1})}},{key:"handleTogglePlaying",value:function(){var e=this.props,t=e.playing,a=e.startAnimation,n=e.stopAnimation;t?n():a()}},{key:"handleDeleteFrame",value:function(e){var t=this.props,a=t.frameIDs,n=t.updatePreviewIdx,r=e-1<0?0:e-1;(0,t.deleteFrameAtIdx)(a[e]),n(r)}},{key:"handleChangePreviewIdx",value:function(e){(0,this.props.updatePreviewIdx)(e)}},{key:"handleRedoFrame",value:function(){var e=this.props,t=e.redoFrames,a=e.redoLastFrame,n=t[t.length-1];a({id:n.id,frameData:n.frameData})}},{key:"render",value:function(){var e=this,t=this.props,a=t.expanded,n=t.previewIdx,i=t.frames,s=t.frameIDs,l=t.gifProgress,o=t.playing,c=t.redoFrames,u=t.gifText,d=t.fontColor,m=t.textAlign,p=t.textBaseline,h=s.length,g=i[s[n]],f=$e(m,p);if(!a)return r.a.createElement("div",{className:"Preview"});return r.a.createElement("div",{className:U()("Preview",{"Preview-expanded":a}),onClick:this.handleClickContainer},r.a.createElement("div",{className:"Preview-header"},r.a.createElement("h2",null,"Preview"),r.a.createElement(qe,{infoText:"Preview allows you to preview your future GIF by \n                         scrubbing through snapshots with the slider or \n                         previewing your GIF with the play/pause button."})),r.a.createElement("div",{className:U()({"Preview-muted":!h})},r.a.createElement("div",{className:"Frame-section-container"},r.a.createElement("img",{className:"Frame-directional-icon",src:ze.a,onClick:function(){return e.handleChangePreviewIdx(Math.max(n-1,0))},alt:""}),r.a.createElement(Le,{imageSrc:g,playing:o,togglePlaying:this.handleTogglePlaying,gifText:u,fontColor:d,textPosition:f}),r.a.createElement("img",{className:"Frame-directional-icon",src:Ze.a,onClick:function(){return e.handleChangePreviewIdx(Math.min(n+1,s.length-1))},alt:""})),r.a.createElement("div",{className:"Preview-scrubber","data-testid":"Preview-scrubber"},r.a.createElement("input",{type:"range",min:"0",max:h-1,value:n,onChange:this.handlePreviewUpdate,disabled:!h,"aria-label":"preview frame index"}),r.a.createElement("div",{className:"Preview-scrubber-counter","data-testid":"Preview-scrubber-counter"},h?"".concat(n+1," / ").concat(h):"0 / 0"))),r.a.createElement("div",{className:"Frame-delete"},h?r.a.createElement("button",{className:"Frame-delete-redo-button","aria-label":"delete this frame",onClick:function(){return e.handleDeleteFrame(n)}},"Delete this Frame"):null,c.length?r.a.createElement("button",{className:"Frame-delete-redo-button","aria-label":"redo last frame",onClick:this.handleRedoFrame},"Undo Delete"):null),r.a.createElement("div",{className:"Frame-timeline"},s.map(function(t,a){return r.a.createElement("div",{className:U()("Frame-scroll",{"Frame-scroll-active":n===a}),onClick:function(){return e.handleChangePreviewIdx(a)},key:"frame-id-".concat(t),dangerouslySetInnerHTML:{__html:i[t]}})})),h?null:r.a.createElement("div",{className:"Preview-no-frames"},"No frames have been captured. Use the camera or burst tools to add some!"),r.a.createElement("div",{className:"Preview-create"},h&&0===this.props.gifData.length?r.a.createElement(Je,{handleGenerateGIF:this.handleGenerateGIF,showColorPicker:this.state.showColorPicker,updateColorPicker:this.updateColorPicker}):null),r.a.createElement("div",{className:"Preview-progress-outer"},r.a.createElement("div",{className:"Preview-progress-inner",style:{width:"".concat(100*l,"%"),background:1===l?"#2ecc40":"#1869FF"}})),1===l?r.a.createElement("div",{className:"Preview-progress-success"},"Download Successful "):null)}}]),t}(n.Component);et.defaultProps={expanded:!1,previewIdx:0,playing:!1,frames:{},frameIDs:[],gifData:"",gifProgress:0,width:800,height:800,oversample:!1,interval:30,redoFrames:[],updatePreviewIdx:function(){},generateGIF:function(){},startAnimation:function(){},stopAnimation:function(){}};var tt=et,at=Object(o.b)(function(e,t){var a=e.images,n=e.ui,r=e.settings,i=n.expandedPane,s=n.previewIdx,l=n.playing,o=a.frames,c=a.frameIDs,u=a.gifProgress,d=a.gifData,m=a.gifText,p=a.fontColor,h=a.redoFrames,g=a.textAlign,f=a.textBaseline,b=r.image,E=b.width,x=b.height,O=b.oversample,y=b.interval;return{expanded:i===v.PREVIEW,previewIdx:s,playing:l,frames:o,frameIDs:c,gifProgress:u,gifData:d,width:E,height:x,oversample:O,interval:y,redoFrames:h,gifText:m,fontColor:p,textAlign:g,textBaseline:f}},{updatePreviewIdx:Ue,deleteFrameAtIdx:function(e){return{type:"DELETE_FRAME_IDX",payload:{idx:e}}},generateGIF:_e,redoLastFrame:function(e){return{type:"REDO_FRAME",payload:{id:e.id,frameData:e.frameData}}},startAnimation:function(){return function(e,t){e({type:"PLAY_PREVIEW"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e();var a=Date.now();!function n(){var r=Date.now();r-a>t&&(e(),a=r),oe=requestAnimationFrame(n)}()}(function(){var a=t(),n=a.images.frameIDs.length,r=a.ui.previewIdx;e(Ue(r===n-1?0:r+1))},t().settings.image.interval)}},stopAnimation:function(){return ye(),{type:"PAUSE_PREVIEW"}}})(tt),nt=(a(625),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={idx:null,min:-10,max:10,step:1,isCapturing:!1,canUndo:!1,prevFrames:{},prevFrameIDs:[],prevCalcState:{},errors:{}},a.handleInputUpdate=a.handleInputUpdate.bind(Object(j.a)(Object(j.a)(a))),a.handleRequestBurst=a.handleRequestBurst.bind(Object(j.a)(Object(j.a)(a))),a.handleUndoBurst=a.handleUndoBurst.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.frameIDs.length!==e.frameIDs.length&&this.setState({canUndo:!1}),this.props.burstSliders.length&&0===e.burstSliders.length&&this.setState({idx:this.props.burstSliders[0].expressionIdx})}},{key:"handleInputUpdate",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state,i=(r.errors,Object(Z.a)(r,["errors"])),s="idx"===a?parseInt(n,10):parseFloat(n);i[a]=s,i.errors=je(i),this.setState(i)}},{key:"handleRequestBurst",value:function(){var e=Object(le.a)(se.a.mark(function e(){var t,a,n,r,i,s,l,o,c;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isCapturing:!0,canUndo:!1}),t=this.props,a=t.requestBurst,t.expanded,n=t.frames,r=t.frameIDs,i=Object(Z.a)(t,["requestBurst","expanded","frames","frameIDs"]),s=ne.getState(),e.next=5,a(Object(m.a)({},this.state,i,{frames:n,frameIDs:r}));case 5:(l=e.sent)?(o=l.prevFrames,c=l.prevFrameIDs,this.setState({isCapturing:!1,canUndo:!0,prevFrames:o,prevFrameIDs:c,prevCalcState:s})):this.setState({isCapturing:!1});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleUndoBurst",value:function(){var e,t=this.props.undoBurst,a=this.state,n=a.prevFrames,r=a.prevFrameIDs,i=a.prevCalcState;t(n,r),e=i,ne.setState(e),this.setState({canUndo:!1,prevFrames:{},prevFrameIDs:[],prevCalcState:{}})}},{key:"render",value:function(){var e=this.state,t=e.idx,a=e.min,n=e.max,i=e.step,s=e.errors,l=this.props,o=l.expanded,c=l.burstSliders;return o?r.a.createElement("div",{className:U()("Burst",{"Burst-expanded":o})},r.a.createElement("div",{className:"Burst-header"},r.a.createElement("h2",null,"Burst"),r.a.createElement(qe,{infoText:"Burst allows you to generate multiple snapshots\n      of your graph at one time. Enter the relevant info in the input fields\n      and hit capture to watch the magic happen."})),r.a.createElement("div",{className:"Burst-options-container"},r.a.createElement("div",{className:"Burst-dropdown-container"},r.a.createElement("div",{"data-testid":"Burst-slider-index-label"},"Slider"),r.a.createElement("select",{className:U()("Burst-dropdown",{"Burst-input-error":!!s.idx}),name:"idx","aria-label":"slider index",value:t||void 0,onChange:this.handleInputUpdate},c.length?null:r.a.createElement("option",{value:void 0},"No Sliders"),c.map(function(e){return r.a.createElement("option",{key:"slider-".concat(e.id),value:e.expressionIdx,defaultValue:t===e.expressionIdx},e.latex.replace(/\\/g,"").split("=").join(" = "))}))),r.a.createElement("div",{"data-testid":"Burst-slider-min-label"},"Slider Min"),r.a.createElement("input",{className:U()("Burst-input",{"Burst-input-error":!!s.min}),type:"number",name:"min","aria-label":"slider minimum",value:isNaN(a)?"":a,onChange:this.handleInputUpdate}),r.a.createElement("div",{"data-testid":"Burst-slider-max-label"},"Slider Max"),r.a.createElement("input",{className:U()("Burst-input",{"Burst-input-error":!!s.max}),type:"number",name:"max","aria-label":"slider maximum",value:isNaN(n)?"":n,onChange:this.handleInputUpdate}),r.a.createElement("div",{"data-testid":"Burst-slider-step-label"},"Slider Step"),r.a.createElement("input",{className:U()("Burst-input",{"Burst-input-error":!!s.step}),type:"number",name:"step","aria-label":"slider step",value:isNaN(i)?"":i,onChange:this.handleInputUpdate}),r.a.createElement("div",null,r.a.createElement("button",{className:U()("Burst-button",{capturing:this.state.isCapturing}),onClick:this.handleRequestBurst,"aria-label":"capture several frames"},this.state.isCapturing?"Capturing...":"Capture"))),this.state.canUndo?r.a.createElement("div",null,r.a.createElement("button",{className:"Burst-button",onClick:this.handleUndoBurst,"aria-label":"undo last burst"},"Undo")):null):r.a.createElement("div",{className:"Burst"})}}]),t}(n.Component));nt.defaultProps=Object(m.a)({},T,{expanded:!1,requestBurst:function(){},burstSliders:[],frameIDs:[]});var rt=nt,it=Object(o.b)(function(e,t){var a=e.settings,n=e.ui,r=e.images,i=a.image,s=i.width,l=i.height,o=i.oversample,c=r.frames,u=r.frameIDs,d=a.strategy;return{expanded:n.expandedPane===v.BURST,width:s,height:l,oversample:o,burstSliders:n.burstSliders,frames:c,frameIDs:u,strategy:d}},{requestBurst:function(e){return function(){var t=Object(le.a)(se.a.mark(function t(a,n){var r,i,s,l,o,c,d,p,h,g,f,v,b,E,x,O,y,I;return se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.idx,i=e.min,s=e.max,l=e.step,o=e.width,c=e.height,d=e.oversample,p=e.frames,h=e.frameIDs,g=e.strategy,f={width:o,height:c,mode:g,targetPixelRatio:d?2:1},v=je({idx:r,min:i,max:s,step:l}),!Object.keys(v).length){t.next=6;break}return a(Be(de(v))),t.abrupt("return");case 6:if(b=Pe({width:o,height:c}),!Object.keys(b).length){t.next=10;break}return a(Be(me(b))),t.abrupt("return");case 10:E=Object(m.a)({},p),x=Object(u.a)(h),I=i;case 13:if(!(I<=s)){t.next=25;break}if(!(y=Ee(r,I))){t.next=18;break}return a(Be(y)),t.abrupt("return");case 18:return t.next=20,be(f);case 20:O=t.sent,a(Ne(O));case 22:I+=l,t.next=13;break;case 25:return t.abrupt("return",{prevFrames:E,prevFrameIDs:x});case 26:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},undoBurst:function(e,t){return{type:"UNDO_BURST",payload:{frames:e,frameIDs:t}}}})(rt),st=(a(627),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).handleInputUpdate=a.handleInputUpdate.bind(Object(j.a)(Object(j.a)(a))),a.handleStrategyUpdate=a.handleStrategyUpdate.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handleInputUpdate",value:function(e){var t=e.target,a=t.name,n=t.value,r=t.checked;(0,this.props.updateSetting)(a,"oversample"===a?r:parseInt(n,10))}},{key:"handleStrategyUpdate",value:function(e){var t=e.target,a=t.name,n=t.value;(0,this.props.updateSetting)(a,n)}},{key:"render",value:function(){var e=this.props,t=e.expanded,a=e.width,n=e.height,i=e.oversample,s=e.interval;if(!t)return r.a.createElement("div",{className:"Settings"});return r.a.createElement("div",{className:U()("Settings",{"Settings-expanded":t})},r.a.createElement("div",{className:"Settings-header"},r.a.createElement("h2",null,"Settings"),r.a.createElement(qe,{infoText:"The settings panel allows you to set your desired image dimensions \n                          as well as the interval between frames in the generated GIF."})),r.a.createElement("div",{className:"Settings-options-container"},r.a.createElement("div",null,"Image Width"),r.a.createElement("input",{className:U()("Settings-input",{"Settings-input-error":!Se(a)}),type:"number",name:"width","aria-label":"image width",value:isNaN(a)?"":a,onChange:this.handleInputUpdate}),r.a.createElement("div",null,"Image Height"),r.a.createElement("input",{className:U()("Settings-input",{"Settings-input-error":!Se(n)}),type:"number",name:"height","aria-label":"image height",value:isNaN(n)?"":n,onChange:this.handleInputUpdate}),r.a.createElement("div",null,"Interval (ms)"),r.a.createElement("input",{className:U()("Settings-input",{"Settings-input-error":!Se(s)}),type:"number",name:"interval","aria-label":"frame interval",value:isNaN(s)?"":s,onChange:this.handleInputUpdate}),r.a.createElement("div",null,"Strategy"),r.a.createElement("select",{className:"Settings-dropdown",name:"strategy","aria-label":"strategy",onChange:this.handleStrategyUpdate},r.a.createElement("option",{value:"contain",defaultValue:!0},"Contain"),r.a.createElement("option",{value:"stretch"},"Stretch"),r.a.createElement("option",{value:"preserveX"},"PreserveX"),r.a.createElement("option",{value:"preserveY"},"PreserveY"))),r.a.createElement("div",{className:"disabled-feature"},r.a.createElement("input",{type:"checkbox",name:"oversample","aria-label":"oversample image",checked:i,onChange:this.handleInputUpdate}),r.a.createElement("span",null,"Oversample")))}}]),t}(n.Component));st.defaultProps=Object(m.a)({expanded:!1},T,{interval:30,updateSetting:function(){}});var lt=st,ot=Object(o.b)(function(e,t){var a=e.settings,n=e.ui,r=a.image,i=r.width,s=r.height,l=r.interval,o=r.oversample,c=a.strategy;return{expanded:n.expandedPane===v.SETTINGS,width:i,height:s,oversample:o,interval:l,strategy:c}},{updateSetting:function(e,t){var a,n=Object(d.a)({},e,t);switch(e){case"width":case"height":case"interval":case"oversample":a="UPDATE_IMAGE_SETTING";break;case"left":case"right":case"top":case"bottom":a="UPDATE_BOUNDS_SETTING";break;default:a="UPDATE_STRATEGY"}return{type:a,payload:n}}})(lt),ct=a(220),ut=(a(629),function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).state={name:"",prevGraphs:ge(),errors:{}},a.handleInputUpdate=a.handleInputUpdate.bind(Object(j.a)(Object(j.a)(a))),a.handleSaveCurrent=a.handleSaveCurrent.bind(Object(j.a)(Object(j.a)(a))),a.handleLoadGraph=a.handleLoadGraph.bind(Object(j.a)(Object(j.a)(a))),a.handleDeleteSavedGraph=a.handleDeleteSavedGraph.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handleInputUpdate",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){var t=Object(ct.a)({},e);return t[a]=n,t})}},{key:"handleDeleteSavedGraph",value:function(e){!function(e){var t=JSON.parse(localStorage.getItem("gifsmos-saved-graphs"));delete t.saved[e],localStorage.setItem("gifsmos-saved-graphs",JSON.stringify(t))}(e),this.setState(function(t){return{prevGraphs:t.prevGraphs.filter(function(t){return t[0]!==e})}})}},{key:"handleSaveCurrent",value:function(){var e=Object(le.a)(se.a.mark(function e(){var t,a,n,r,i,s,l,o,c,d;return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.name,a=this.props,n=a.togglePane,r=a.saveGraph,i=this.props.images,s=i.frames,l=i.frameIDs,o=this.state,o.errors,c=Object(Z.a)(o,["errors"]),e.next=6,r(t,s,l);case 6:(d=e.sent)&&(c.name="",c.prevGraphs=[].concat(Object(u.a)(c.prevGraphs),[d]),n(v.FILES)),this.setState(c);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleLoadGraph",value:function(e){var t=this.props,a=t.togglePane;(0,t.loadFramesFromLocal)(e),a(v.FILES)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.errors,n=e.prevGraphs,i=this.props.expanded;if(!i)return r.a.createElement("div",{className:"Folder"});var s=n.length?r.a.createElement("ul",{className:"Folder-saved-list"},n.reverse().map(function(e){var t=this,a=Object(pe.a)(e,3),n=a[0],i=a[1],s=a[2];return r.a.createElement("div",{className:"Folder-saved-item",key:"".concat(n,"-").concat(i)},r.a.createElement("div",{className:"Folder-saved-graph",onClick:function(){return t.handleLoadGraph(n)}},r.a.createElement("div",{className:"Folder-item-preview",dangerouslySetInnerHTML:{__html:s}}),r.a.createElement("div",{className:"Folder-item-text"},r.a.createElement("div",{className:"Folder-name-text"},i),r.a.createElement("div",{className:"Folder-small-text"},"created on: ",n.slice(0,n.lastIndexOf(" "))))),r.a.createElement("button",{"aria-label":"delete",onClick:function(){return t.handleDeleteSavedGraph(n)},className:"Folder-button Folder-delete-graph"},r.a.createElement("div",{className:"Folder-delete-text"},"+")))},this)):r.a.createElement("div",{className:"Folder-small-text Folder-previous-items"},r.a.createElement("em",null,"No Saved Graphs"));return r.a.createElement("div",{className:U()("Folder",{"Folder-expanded":i})},r.a.createElement("div",{className:"Folder-header"},r.a.createElement("h2",null,"Folder"),r.a.createElement(qe,{infoText:"The folder allows you to save your graphs so you \n                          can come back to them at a later time."})),r.a.createElement("div",null,r.a.createElement("div",{className:"Folder-titles"},"Name"),r.a.createElement("input",{className:U()("Folder-input",{"Folder-input-error":!!a.name}),type:"text",name:"name",placeholder:"Graph name","aria-label":"graph name",value:t,onChange:this.handleInputUpdate}),r.a.createElement("div",null,r.a.createElement("button",{className:"Folder-button Folder-save",onClick:this.handleSaveCurrent,"aria-label":"Save this graph"},"Save"))),r.a.createElement("div",{className:"Folder-titles"},"Saved Graphs"),r.a.createElement("div",{className:"Folder-previous-items"},s))}}]),t}(n.Component)),dt=Object(o.b)(function(e,t){var a=e.ui,n=e.images;return{expanded:a.expandedPane===v.FILES,images:n}},{togglePane:Ge,loadFramesFromLocal:function(e){return function(t,a){t(Ae());for(var n=Oe(e),r=n.frameIDs,i=n.frames,s=0;s<r.length;s+=1){var l=r[s],o=i[l];t(Ce(o,l))}}},saveGraph:function(e,t,a){return function(){var n=Object(le.a)(se.a.mark(function n(r){var i,s;return se.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=ke(e)).name){n.next=4;break}return r(Be((l=i.name,"Invalid name input for saving graph: ".concat(l)))),n.abrupt("return");case 4:return n.next=6,xe(e,t,a);case 6:return s=n.sent,n.abrupt("return",s);case 8:case"end":return n.stop()}var l},n)}));return function(e){return n.apply(this,arguments)}}()}})(ut),mt=(a(631),function(e){var t=e.message;return t.length?r.a.createElement("div",{className:"ErrorToast",role:"alert","aria-errormessage":t},t):null});mt.defaultProps={message:""};var pt=mt,ht=Object(o.b)(function(e,t){return{message:e.ui.error}})(pt),gt={border:!1,editOnWeb:!0,pasteGraphLink:!0},ft=(a(633),window.Desmos),vt=r.a.createRef(),bt=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(I.a)(this,Object(w.a)(t).call(this,e))).handleKeyDown=a.handleKeyDown.bind(Object(j.a)(Object(j.a)(a))),a}return Object(S.a)(t,e),Object(y.a)(t,[{key:"handleKeyDown",value:function(e){var t=e.key,a=this.props.onEscape;"Escape"===t&&a()}},{key:"componentDidMount",value:function(){var e=this.props.getBurstSliders;(function(e,t,a){return ne=e.GraphingCalculator(t.current,a)})(ft,vt,gt).observeEvent("change",e),window.addEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.pane;return r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement("div",{className:"calculator calculator-".concat(e),ref:vt}),r.a.createElement(ot,null),r.a.createElement(at,null),r.a.createElement(it,null),r.a.createElement(dt,null),r.a.createElement(Re,null),r.a.createElement(ht,null))}}]),t}(n.Component);bt.defaultProps={onEscape:function(){}};var Et=bt,xt=Object(o.b)(function(e,t){var a=e.ui,n=a.expandedPane,r=a.burstSliders;return{pane:n.toLowerCase(),burstSliders:r}},{getBurstSliders:function(){return function(e){e(function(e){return{type:"UPDATE_BURST_SLIDERS",payload:e}}(ne.getExpressions().reduce(function(e,t,a){return t.latex&&""!==t.latex&&1===t.latex.match(/[a-z]/gi).length?[].concat(Object(u.a)(e),[Object(m.a)({},t,{expressionIdx:a+1})]):e},[])))}}})(Et),Ot="\n".concat("\ud83d\udc4b"," Hey, there!\nIf you're interested in working on GIFsmos, please visit\nhttps://github.com/desmosinc/gifsmos."),yt=function(){console.log(Ot)},It=(a(635),Object(l.d)(x,Object(l.a)(c.a)));s.a.render(r.a.createElement(o.a,{store:It},r.a.createElement(xt,{onEscape:function(){return It.dispatch(Ge(v.NONE))}})),document.getElementById("root")),yt()}},[[221,2,1]]]);
//# sourceMappingURL=main.0aedf781.chunk.js.map